<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>Test</title>

	<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
	  <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
	  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->
</head>
<body>

	<div id="log"></div>

	<script id="worker1" type="javascript/worker">
		// This script won't be parsed by JS engines
		// because its type is javascript/worker.
		self.onmessage = function(e) {
		  self.postMessage('msg from worker');
		};
		// Rest of your worker code goes here.
	</script>

	<script>
		function log(msg) {
			// Use a fragment: browser will only render/reflow once.
			var fragment = document.createDocumentFragment();
			fragment.appendChild(document.createTextNode(msg));
			fragment.appendChild(document.createElement('br'));

			document.querySelector("#log").appendChild(fragment);
		}

		var blob = new Blob([document.querySelector('#worker1').textContent]);

		var worker = new Worker(window.URL.createObjectURL(blob));
		worker.onmessage = function (e) {
			log("Received: " + e.data);
		}
		worker.postMessage({}); // Start the worker.
	</script>
</body>
</html>